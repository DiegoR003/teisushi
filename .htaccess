# -----------------------------
# WAMP / LOCAL
# -----------------------------
# No forzar HTTPS ni handlers de cPanel
# Asegúrate de tener rewrite_module activo

# Recomendado: evitar conflictos con MultiViews
Options -MultiViews +FollowSymLinks

RewriteEngine On
RewriteBase /teisushi/

# No reescribir archivos ni carpetas reales
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# EXCLUSIONES explícitas para assets estáticos (opcional pero útil)
RewriteRule ^(assets/|css/|js/|img/|images/|fonts/|uploads/|media/) - [L]

# URL amigables tipo:
# /pagina/           -> pagina.php
# /seccion/item/     -> seccion/item.php
# /a/b/c/            -> a/b/c.php

RewriteRule ^([^/]+)/$                 $1.php        [L,QSA]
RewriteRule ^([^/]+)/([^/]+)/$         $1/$2.php     [L,QSA]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3.php  [L,QSA]

# (Opcional) Añadir la diagonal final si NO es archivo/dir/ni trae extensión
# Evita loops con las reglas anteriores
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !\.[a-zA-Z0-9]{1,5}$
RewriteCond %{REQUEST_URI} !/$
RewriteRule . %{REQUEST_URI}/ [R=301,L]

# Página por defecto
DirectoryIndex index.php index.html

# Charset recomendado
AddDefaultCharset UTF-8
